---
title: "Summary tables in base R"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Summary tables in base R}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```


### Load Martin 1992 data

```{r}
library(compbio4all)
data(martin1995)
```


### Questions
T1)How do I make simple tables in R?
T2)How do I make 2-way tables in R?
T3)How do I make 3-way tables in R?


#### Tables
Our object data has a column group giving the general location where each species in the dataframe nests and another columns for where the birds forage.

###### T1)How do I make simple 1-way tables in R?

We can make a simple table for where birds nest, where they forage and their general lattitudinal region like this:
```{r}
#Table for nest location
table(martin1995$group)

#Table for forage location
table(martin1995$foraging.site)

#Table for general lattitudal location
table(martin1995$trop.or.temp)
```



A nice command to learn to use in R is with().  Here's what it can do when making a table;  If you were to read this out loud like you were telling R what to do, it would be somethign like this "With the dataframe called data, make a table from the group column."  This isn't that helpful in this situation, but for 2-way tables and other tasks it is nice.
```{r}
#Making a table with with()
with(martin1995, table(group))
```


An aside on tables:
The summary() command can also give you simple 1-way tables.  However, the table() command will make a table out of whatever you give it, while summary() is more generic.  For example, the way that these particular data have been loaded in, R is treating information that is in text form, like nesting location, as text.  So  when I use summary, I get this
```{r}
summary(martin1995$group)
```

R is very picky about differnt kinds of data.  In order for R to make a table from this column using the summary() command, you'd need to tell it that the data belong to different categories or different levels of "factor variable".  This is done with the factor() command.  here, I'll tell R that the group column is factor data and then make a table with summary()
```{r}
#Change character data to a factor
martin1995$group <- factor(martin1995$group)

#Now I get a table from summary()
summary(martin1995$group)
```






###### T2)How do I make simple 2-way tables in R?
We can cross classify the nesting groups and foraging groups very easily, aka, we can make a 2-way table.

Note that you have to be explicit about where each piece of data from by putting "data$" in front of both columns
```{r}
#With nesting location in rows
table(martin1995$group, martin1995$foraging.site)

#With nesting location in columns 
table(martin1995$foraging.site, martin1995$group)
```

You can save yourself some typing by using the with() command.  If you read this outloud it would be "with the table dataframe, make a 2-way table from the group and foraging site columns"
```{r}
with(martin1995, table(group, foraging.site))
```

###### T3)How do I make 3-way tables in R?
You can cross-classify categorical data as many ways as you'd like.  Let's make a 3-way classification based on nest type, foraging and lattidue.


Classify general lattitudinal region as tropical, boreal, or temperate
```{r}
martin1995$trop.or.temp <- "temperate"
i.tropics <- which(martin1995$lat < 23)
i.boreal <- which(martin1995$lat > 54)

martin1995$trop.or.temp[i.tropics] <- "tropics"
martin1995$trop.or.temp[i.boreal] <- "boreal"
```


```{r}
table(martin1995$group, martin1995$foraging.site, martin1995$trop.or.temp)
```

This can be simplified a bit using with()
```{r}
with(martin1995, table(group, foraging.site, trop.or.temp))
```

